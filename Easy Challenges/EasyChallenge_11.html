<html>

<head>
  <title>Easy Challenge #011</title>
</head>

<body>
  <h3>What Day of the Week Is?</h3>

  <form>
    <input type="text" placeholder="Day" id="d"></input>
    <input type="text" placeholder="Month" id="m"></input>
    <input type="text" placeholder="Year" id="y"></input>
    <input type="button" value="Enter" onclick="run();">
  </form>

<script type="text/javascript">
var run = function(){
  var day = document.getElementById("d").value;
  var month = document.getElementById("m").value;
  var year = document.getElementById("y").value;

  var dTable = [0, 1, 2, 3, 4, 5, 6, 0,
                1, 2, 3, 4, 5, 6, 0,
                1, 2, 3, 4, 5, 6, 0,
                1, 2, 3, 4, 5, 6, 0,
                1, 2, 3];
  var mTable = [0, 0, 3, 3, 6, 1, 4, 6, 2, 5, 0, 3, 5];
  var mLeapYearTable = [0, 6, 2];
  var yTable = [0, 1, 2, 3, 5, 6, 0, 1, 3, 4, 5, 6,
                1, 2, 3, 4, 6, 0, 1, 2, 4, 5, 6, 0,
                2, 3, 4, 5, 0, 1, 2, 3, 5, 6, 0, 1,
                3, 4, 5, 6, 1, 2, 3, 4, 6, 0, 1, 2,
                4, 5, 6, 0, 2, 3, 4, 5, 0, 1, 2, 3,
                5, 6, 0, 1, 3, 4, 5, 6, 1, 2, 3, 4,
                6, 0, 1, 2, 4, 5, 6, 0, 2, 3, 4, 5,
                0, 1, 2, 3, 5, 6, 0, 1, 3, 4, 5, 6,
                1, 2, 3, 4];
  var cTable = [6, 4, 2, 0];

  var dayName = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

  var d = dTable[day];
  var m = (year % 4 == 0  && year % 100 == 0 && year % 400 == 0 && month == 1 | month == 2) ? mLeapYearTable[month] : mTable[month];
  var y = yTable[(year%100)%28];
  var c = cTable[Math.floor(year/100)%4];

  // for some reason I cant figure out on non leap years I have to subtract 1 to get the correct day
  var name = dayName[(year % 4 == 0  && year % 100 == 0 && year % 400 == 0) ? (d + m + y + Math.floor(y/4) + c)%7 : (d + m + y + Math.floor(y/4) + c - 1)%7];

  console.log(name);
};
</script>
</body>

</html>
